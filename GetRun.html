<script>
function print(x) {
	document.write(x+"<br>");
}
print("Hello!");

/***
 * 連続スペースの長さを取得
 */
function getRunLength(s, i) {
	var run = 0;
	for(var j=i; j<s.length; j++) {
		if (s.substr(j, 1)==' ') {
			run++;
		}
		else {
			return(run);
		}
	}
	return(run);
}

/***
 * 連続スペースを取り除く
 */
function trimSpace(s) {
	var buf = '';
	var next_p;
	for(next_p=0; next_p<s.length; ) {
		if (s.substr(next_p, 1)==' ') {
			var run = getRunLength(s, next_p);
			if (run >= 8) {
				next_p += 8;
			}
			else {
				buf += s.substr(next_p, 1);
				next_p++;
			}
		}
		else {
			buf += s.substr(next_p, 1);
			next_p++;
		}
	}
	return(buf);
}

var s = '1234567';
//print(s.substring(1,3));
//print(s.substr(1,3));

//print(getRun('   ', 0));
//print(getRun('a   ', 0));
//print(getRun('a   ', 1));
//print(getRun('a      bb**', 1));

var s = 'aaaa             aaaaaa';
var s1 = '1234        ABCDEF';
print('<pre>');
print(s);
print(trimSpace(s));
print(s1);
print(trimSpace(s1));
print('</pre>');
</script>
