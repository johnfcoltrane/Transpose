<html>
<script>
var tbl= [
	['C','C'],
	['C#','Db'],
	['D','D'],
	['D#','Eb'],
	['E','E'],
	['F','F'],
	['F#','Gb'],
	['G','G'],
	['G#','Ab'],
	['A','A'],
	['A#','Bb'],
	['B','B']];

function inc(x) {
	for(var i=0; i<tbl.length; i++) {
		if (tbl[i][0] == x || tbl[i][1] == x) {
			return tbl[(i+1)%12];
		}
	}
	return "";
}

function scan(x) {
	//alert(length(x));
	var buf = "";
	for(var i=0; i<x.length; i++) {
		//alert(x.length);
		var c  = x.substring(i, i+1);
		var c1 = x.substring(i+1, i+2);
		var a;
		if (c>='A' && c<='G') {
			if (c1 == '#' || c1 == 'b') {
				a = c + c1;
				i++;
			}
			else {
				a = c;
			}
			//alert("a="+a);
			c = inc(a)[1];
			//c = a;
		}
		//document.write("== "+c+"<br>");
		buf += c;
	}
	return(buf);
}

function test1() {
	var x1 = document.getElementById('txt2').value;
	alert(inc(x1));
}

function _transpose() {
	//alert(1);
	//var x = document.getElementById('txt1');
	var x1 = document.getElementById('txt2').value;
	alert(inc(x1)[0]);
}

function transpose() {
	//var x1 = document.getElementById('txt2').value;
	//var x2 = document.getElementById('txt3').value;
	//alert('scan');
	var x = scan(document.getElementById('txt1').value);
	alert(x);
	//return x;
}

</script>

<select name="example" id=sel1>
<option value="-">-</option>
<option value="#">#</option>
<option value="2nd">2nd</option>
<option value="b3">b3</option>
<option value="3rd">3rd</option>
<option value="4th">4th</option>
<option value="b5">b5</option>
<option value="5th">5th</option>
<option value="+5t">+5t</option>
<option value="6th">6th</option>
<option value="maj7">maj7</option>
<option value="7th">7th</option>
</select>
<br>

<textarea id=txt1 width=80 height=80 length=80 
style="margin: 0px; width: 618px; height: 435px;"
_onclick='f1()'>

| Dm7 G7  | Em7 A7  | D7 Db7 | C |

</textarea>
<br>

<!--
<input type=button name=btn1 value="transpose" onclick="transpose()">
<br>
<input type=button name=btn2 value="inc" onclick="test1()">
<br>
<input type=text id=txt2>
<input type=text id=txt3>
<input type=button name=btn3 value="test2()" onclick="test2()">
<br>
-->

<!--

Bb	A#
Ab	G#
Gb	F#
	
Eb	D#
Db	C#


-->
<select>
<option value="Bb">Bb</option>
<option value="A#">A#</option>
</select>

<select>
<option value="Ab">Ab</option>
<option value="G#">G#</option>
</select>

<select>
<option value="Gb">Gb</option>
<option value="F#">F#</option>
</select>

<select>
<option value="Eb">Eb</option>
<option value="D#">D#</option>
</select>

<select>
<option value="Db">Db</option>
<option value="C#">C#</option>
</select>

</html>
